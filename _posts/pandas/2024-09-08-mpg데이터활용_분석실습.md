---
layout: post
title: mpg ë°ì´í„° í™œìš© _ ë¶„ì„ ì‹¤ìŠµ
categories: Pandas
tags: [Pandas]
excerpt_image: https://github.com/designa11/designa11.github.io/blob/master/assets/images/pandas/king.png?raw=true
---

ì•„ë˜ì˜ ë§í¬ì—ì„œ mpg.csv ë‹¤ìš´ë¡œë“œ   
ğŸ‘‰ğŸ‘‰
[link](https://drive.google.com/file/d/1dtodLZfLU2sKTXNY-nPITCG4mwJEyfKH/view?usp=drive_link)
:point_left:
:point_left:
:point_left:


```python
#ë¶„ì„ë„êµ¬ ë¶ˆëŸ¬ì˜¤ê¸°
#mpg ë°ì´í„° ë¶ˆëŸ¬ì™€ì„œ data ë³€ìˆ˜ì— ë‹´ê¸°
#info() ì¶œë ¥í•´ë³´ê¸°
#íŒë‹¤ìŠ¤ ë°ì´í„° í™•ì¸ ì†ì„± í™•ì¸í•˜ê¸°
# - shape, size, ndim, dtypes, index, values

```


```python
import pandas as pd
```


```python
data = pd.read_csv("./data/mpg.csv")
data
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>manufacturer</th>
      <th>model</th>
      <th>displ</th>
      <th>year</th>
      <th>cyl</th>
      <th>trans</th>
      <th>drv</th>
      <th>cty</th>
      <th>hwy</th>
      <th>fl</th>
      <th>category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>18</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>1</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>2</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>f</td>
      <td>20</td>
      <td>31</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>3</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(av)</td>
      <td>f</td>
      <td>21</td>
      <td>30</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>4</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>16</td>
      <td>26</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>229</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(s6)</td>
      <td>f</td>
      <td>19</td>
      <td>28</td>
      <td>p</td>
      <td>midsize</td>
    </tr>
    <tr>
      <th>230</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>p</td>
      <td>midsize</td>
    </tr>
    <tr>
      <th>231</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>16</td>
      <td>26</td>
      <td>p</td>
      <td>midsize</td>
    </tr>
    <tr>
      <th>232</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>18</td>
      <td>26</td>
      <td>p</td>
      <td>midsize</td>
    </tr>
    <tr>
      <th>233</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>3.6</td>
      <td>2008</td>
      <td>6</td>
      <td>auto(s6)</td>
      <td>f</td>
      <td>17</td>
      <td>26</td>
      <td>p</td>
      <td>midsize</td>
    </tr>
  </tbody>
</table>
<p>234 rows Ã— 11 columns</p>
</div>




```python
data.info()
# ë°ì´í„° íƒ€ì… > ë¨¸ì‹ ëŸ¬ë‹ ë¶„ì„ ë„êµ¬ (ëª¨ë¸)ì— ì ìš©í•˜ë ¤ë©´ ë¬¸ì -> ìˆ˜ì¹˜
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 234 entries, 0 to 233
    Data columns (total 11 columns):
     #   Column        Non-Null Count  Dtype  
    ---  ------        --------------  -----  
     0   manufacturer  234 non-null    object 
     1   model         234 non-null    object 
     2   displ         234 non-null    float64
     3   year          234 non-null    int64  
     4   cyl           234 non-null    int64  
     5   trans         234 non-null    object 
     6   drv           234 non-null    object 
     7   cty           234 non-null    int64  
     8   hwy           234 non-null    int64  
     9   fl            234 non-null    object 
     10  category      234 non-null    object 
    dtypes: float64(1), int64(4), object(6)
    memory usage: 20.2+ KB



```python
display(data.shape)
display(data.size)
display(data.ndim)
display(data.dtypes)
display(data.index)
display(data.values)
```


    (234, 11)



    2574



    2



    manufacturer     object
    model            object
    displ           float64
    year              int64
    cyl               int64
    trans            object
    drv              object
    cty               int64
    hwy               int64
    fl               object
    category         object
    dtype: object



    RangeIndex(start=0, stop=234, step=1)



    array([['audi', 'a4', 1.8, ..., 29, 'p', 'compact'],
           ['audi', 'a4', 1.8, ..., 29, 'p', 'compact'],
           ['audi', 'a4', 2.0, ..., 31, 'p', 'compact'],
           ...,
           ['volkswagen', 'passat', 2.8, ..., 26, 'p', 'midsize'],
           ['volkswagen', 'passat', 2.8, ..., 26, 'p', 'midsize'],
           ['volkswagen', 'passat', 3.6, ..., 26, 'p', 'midsize']],
          dtype=object)





```python
import numpy as np
import pandas as pd
#ì‹œê°í™”
import matplotlib.pyplot as plt

```


```python
#2. mpg ë°ì´í„° ë¶ˆëŸ¬ì™€ì„œ data ë³€ìˆ˜ì— ë‹´ê¸°
# ../ ìƒìœ„ í´ë”ë¡œ ë‚˜ê°€ë‹¤
data = pd.read_csv('./data/mpg.csv')
data
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>manufacturer</th>
      <th>model</th>
      <th>displ</th>
      <th>year</th>
      <th>cyl</th>
      <th>trans</th>
      <th>drv</th>
      <th>cty</th>
      <th>hwy</th>
      <th>fl</th>
      <th>category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>18</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>1</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>2</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>f</td>
      <td>20</td>
      <td>31</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>3</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(av)</td>
      <td>f</td>
      <td>21</td>
      <td>30</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>4</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>16</td>
      <td>26</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>229</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(s6)</td>
      <td>f</td>
      <td>19</td>
      <td>28</td>
      <td>p</td>
      <td>midsize</td>
    </tr>
    <tr>
      <th>230</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>p</td>
      <td>midsize</td>
    </tr>
    <tr>
      <th>231</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>16</td>
      <td>26</td>
      <td>p</td>
      <td>midsize</td>
    </tr>
    <tr>
      <th>232</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>18</td>
      <td>26</td>
      <td>p</td>
      <td>midsize</td>
    </tr>
    <tr>
      <th>233</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>3.6</td>
      <td>2008</td>
      <td>6</td>
      <td>auto(s6)</td>
      <td>f</td>
      <td>17</td>
      <td>26</td>
      <td>p</td>
      <td>midsize</td>
    </tr>
  </tbody>
</table>
<p>234 rows Ã— 11 columns</p>
</div>



#### ë°ì´í„° ì ‘ê·¼
- ìœ„ì¹˜ ê¸°ë°˜ ì ‘ê·¼
- - ìƒˆë¡œìš´ ì ‘ê·¼ ë„êµ¬ (ì¸ë±ì„œ): loc, iloc
  - ê°€ë¦¬í‚´ : ì¸ë±ì‹±
  - ì˜ë¼ëƒ„ : ìŠ¬ë¼ì´ì‹±
- ì¡°ê±´ ê¸°ë°˜ ì ‘ê·¼ : ë¶ˆë¦¬ì–¸ ì¸ë±ì‹±


```python
data.head()
# head() : ë°ì´í„°í”„ë ˆì„ ë„ˆë¬´ ì»¤ì„œ ìœ„ì—ì„œ ë¶€í„° 5ê°œ ë³´ê¸°
# tail() : ë°‘ì—ì„œë¶€í„° 5ê°œ ë³´ê¸°

```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>manufacturer</th>
      <th>model</th>
      <th>displ</th>
      <th>year</th>
      <th>cyl</th>
      <th>trans</th>
      <th>drv</th>
      <th>cty</th>
      <th>hwy</th>
      <th>fl</th>
      <th>category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>18</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>1</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>2</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>f</td>
      <td>20</td>
      <td>31</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>3</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(av)</td>
      <td>f</td>
      <td>21</td>
      <td>30</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>4</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>16</td>
      <td>26</td>
      <td>p</td>
      <td>compact</td>
    </tr>
  </tbody>
</table>
</div>




```python
#1ë²ˆ ì¸ë±ìŠ¤ë²ˆí˜¸ ì¸ë±ì‹±
# data[1] # ì˜¤ë¥˜
#'model'ì¸ë±ì‹±
data['model']
```




    0          a4
    1          a4
    2          a4
    3          a4
    4          a4
            ...  
    229    passat
    230    passat
    231    passat
    232    passat
    233    passat
    Name: model, Length: 234, dtype: object




```python
# 1ë²ˆ ì¸ë±ìŠ¤ë¶€í„° 3ë²ˆ ì¸ë±ìŠ¤ê¹Œì§€ ìŠ¬ë¼ì´ì‹±
data[1:4]
# 'model'ë¶€í„° 'year' ê¹Œì§€
# data['model':'year']
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>manufacturer</th>
      <th>model</th>
      <th>displ</th>
      <th>year</th>
      <th>cyl</th>
      <th>trans</th>
      <th>drv</th>
      <th>cty</th>
      <th>hwy</th>
      <th>fl</th>
      <th>category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>2</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>f</td>
      <td>20</td>
      <td>31</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>3</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(av)</td>
      <td>f</td>
      <td>21</td>
      <td>30</td>
      <td>p</td>
      <td>compact</td>
    </tr>
  </tbody>
</table>
</div>



#### ì¸ë±ì„œ (loc,iloc)  location, index location


```python
#loc = DataFrameì˜ í–‰ê³¼ ì—´ì˜ ì´ë¦„ìœ¼ë¡œ ì¸ë±ì‹± or ìŠ¬ë¼ì´ì‹±
# ë°ì´í„° í”„ë ˆì„ëª….loc[í–‰,ì—´]
data.loc[1]

```




    manufacturer          audi
    model                   a4
    displ                  1.8
    year                  1999
    cyl                      4
    trans           manual(m5)
    drv                      f
    cty                     21
    hwy                     29
    fl                       p
    category           compact
    Name: 1, dtype: object




```python
data.loc[:,'model':'year']
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>model</th>
      <th>displ</th>
      <th>year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
    </tr>
    <tr>
      <th>1</th>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
    </tr>
    <tr>
      <th>2</th>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
    </tr>
    <tr>
      <th>3</th>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
    </tr>
    <tr>
      <th>4</th>
      <td>a4</td>
      <td>2.8</td>
      <td>1999</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>229</th>
      <td>passat</td>
      <td>2.0</td>
      <td>2008</td>
    </tr>
    <tr>
      <th>230</th>
      <td>passat</td>
      <td>2.0</td>
      <td>2008</td>
    </tr>
    <tr>
      <th>231</th>
      <td>passat</td>
      <td>2.8</td>
      <td>1999</td>
    </tr>
    <tr>
      <th>232</th>
      <td>passat</td>
      <td>2.8</td>
      <td>1999</td>
    </tr>
    <tr>
      <th>233</th>
      <td>passat</td>
      <td>3.6</td>
      <td>2008</td>
    </tr>
  </tbody>
</table>
<p>234 rows Ã— 3 columns</p>
</div>




```python
# iloc : ë°ì´í„°ê°€ ê°€ì§€ê³  ìˆëŠ” ì¸ë±ìŠ¤ ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•´ì„œ ì¸ë±ì‹± or ìŠ¬ë¼ì´ì‹±
# ë°ì´í„°í”„ë ˆì„ëª….iloc[í–‰ ì¸ë±ìŠ¤ ë²ˆí˜¸, ì—´ ì¸ë±ìŠ¤ ë²ˆí˜¸]
data.iloc[1:4,1:4]

#â˜… ë°ì´í„° í”„ë ˆì„ì„ ìŠ¬ë¼ì´ì‹± --> ì¸ë±ì„œ(loc, iloc)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>model</th>
      <th>displ</th>
      <th>year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
    </tr>
    <tr>
      <th>2</th>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
    </tr>
    <tr>
      <th>3</th>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
    </tr>
  </tbody>
</table>
</div>




```python
data.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>manufacturer</th>
      <th>model</th>
      <th>displ</th>
      <th>year</th>
      <th>cyl</th>
      <th>trans</th>
      <th>drv</th>
      <th>cty</th>
      <th>hwy</th>
      <th>fl</th>
      <th>category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>18</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>1</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>2</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>f</td>
      <td>20</td>
      <td>31</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>3</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(av)</td>
      <td>f</td>
      <td>21</td>
      <td>30</td>
      <td>p</td>
      <td>compact</td>
    </tr>
    <tr>
      <th>4</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>16</td>
      <td>26</td>
      <td>p</td>
      <td>compact</td>
    </tr>
  </tbody>
</table>
</div>




```python
#ë°ì´í„°ì˜ ì°¨ì›
data.loc[0:2,['model','displ','year']]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>model</th>
      <th>displ</th>
      <th>year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
    </tr>
    <tr>
      <th>1</th>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
    </tr>
    <tr>
      <th>2</th>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
    </tr>
  </tbody>
</table>
</div>



#### ì¡°ê±´ê¸°ë°˜ì ‘ê·¼ : ë¶ˆë¦¬ì–¸ì¸ë±ì‹±

![image.png](https://github.com/designa11/designa11.github.io/blob/master/assets/images/pandas/04/1.png?raw=true)


```python
#Q3.
data.shape
```




    (234, 11)




```python
# Q4.
data.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 234 entries, 0 to 233
    Data columns (total 11 columns):
     #   Column        Non-Null Count  Dtype  
    ---  ------        --------------  -----  
     0   manufacturer  234 non-null    object 
     1   model         234 non-null    object 
     2   displ         234 non-null    float64
     3   year          234 non-null    int64  
     4   cyl           234 non-null    int64  
     5   trans         234 non-null    object 
     6   drv           234 non-null    object 
     7   cty           234 non-null    int64  
     8   hwy           234 non-null    int64  
     9   fl            234 non-null    object 
     10  category      234 non-null    object 
    dtypes: float64(1), int64(4), object(6)
    memory usage: 20.2+ KB



```python
#Q5.
data.describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>displ</th>
      <th>year</th>
      <th>cyl</th>
      <th>cty</th>
      <th>hwy</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>234.000000</td>
      <td>234.000000</td>
      <td>234.000000</td>
      <td>234.000000</td>
      <td>234.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>3.471795</td>
      <td>2003.500000</td>
      <td>5.888889</td>
      <td>16.858974</td>
      <td>23.440171</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.291959</td>
      <td>4.509646</td>
      <td>1.611534</td>
      <td>4.255946</td>
      <td>5.954643</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.600000</td>
      <td>1999.000000</td>
      <td>4.000000</td>
      <td>9.000000</td>
      <td>12.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>2.400000</td>
      <td>1999.000000</td>
      <td>4.000000</td>
      <td>14.000000</td>
      <td>18.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3.300000</td>
      <td>2003.500000</td>
      <td>6.000000</td>
      <td>17.000000</td>
      <td>24.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>4.600000</td>
      <td>2008.000000</td>
      <td>8.000000</td>
      <td>19.000000</td>
      <td>27.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>7.000000</td>
      <td>2008.000000</td>
      <td>8.000000</td>
      <td>35.000000</td>
      <td>44.000000</td>
    </tr>
  </tbody>
</table>
</div>




```python

```


```python

```


```python
# ìš”ì•½í†µê³„ëŸ‰
#ë°ì´í„° í˜•íƒœê°€ ìˆ˜ì¹˜ì¼ ê²½ìš°ì— ìš°ì„ ìˆœìœ„ë¡œ ì¶œë ¥í•´ì¤Œ
#  í‰ê· , í‘œì¤€í¸ì°¨, ì œ 4ë¶„ìœ„ìˆ˜(ã…ˆì‘ì€ - í°)
# ì´ìƒì¹˜ê°€ ë§ì€ ë°ì´í„° ë¬¶ìŒ ê°™ì€ ê²½ìš°ì—ëŠ” í‰ê·  ì˜¤ë¥˜
data.describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>displ</th>
      <th>year</th>
      <th>cyl</th>
      <th>cty</th>
      <th>hwy</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>234.000000</td>
      <td>234.000000</td>
      <td>234.000000</td>
      <td>234.000000</td>
      <td>234.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>3.471795</td>
      <td>2003.500000</td>
      <td>5.888889</td>
      <td>16.858974</td>
      <td>23.440171</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.291959</td>
      <td>4.509646</td>
      <td>1.611534</td>
      <td>4.255946</td>
      <td>5.954643</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.600000</td>
      <td>1999.000000</td>
      <td>4.000000</td>
      <td>9.000000</td>
      <td>12.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>2.400000</td>
      <td>1999.000000</td>
      <td>4.000000</td>
      <td>14.000000</td>
      <td>18.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3.300000</td>
      <td>2003.500000</td>
      <td>6.000000</td>
      <td>17.000000</td>
      <td>24.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>4.600000</td>
      <td>2008.000000</td>
      <td>8.000000</td>
      <td>19.000000</td>
      <td>27.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>7.000000</td>
      <td>2008.000000</td>
      <td>8.000000</td>
      <td>35.000000</td>
      <td>44.000000</td>
    </tr>
  </tbody>
</table>
</div>




```python
#Q6.
# data6 = data['hwy'].sort_values(ascending = False)
# data6[:5]

# ì•„ìš°ë”” ìƒì‚°í•œ ìë™ì°¨ì ‘ê·¼
# hwy ì»¬ëŸ¼ ì ‘ê·¼
# ì˜¤ë¦„ì°¨ìˆœ, ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
# ê°€ì¥ ì²«ë²ˆì§¸ ~5 top5

audi_data = data[data['manufacturer'] =='audi']
audi_data['hwy']
#íŒë‹¤ìŠ¤ ë°ì´í„° ì •ë ¬
# audi_data['hwy'].sort_values(ascending=False).iloc[:5]
audi_data['hwy'].sort_values(ascending=False).head()
#nlargest()
```




    2    31
    3    30
    0    29
    1    29
    9    28
    Name: hwy, dtype: int64



![image.png](https://github.com/designa11/designa11.github.io/blob/master/assets/images/pandas/04/2.png?raw=true)


```python
# mpg = mpg.assign(cty_prepro = np.where(mpg['cty']>=17,1,0))
data['cty_prepro'] = (data['cty']>=17).astype('int64')
data
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>manufacturer</th>
      <th>model</th>
      <th>displ</th>
      <th>year</th>
      <th>cyl</th>
      <th>trans</th>
      <th>drv</th>
      <th>cty</th>
      <th>hwy</th>
      <th>fl</th>
      <th>category</th>
      <th>cty_prepro</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>18</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>f</td>
      <td>20</td>
      <td>31</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(av)</td>
      <td>f</td>
      <td>21</td>
      <td>30</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>16</td>
      <td>26</td>
      <td>p</td>
      <td>compact</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>229</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(s6)</td>
      <td>f</td>
      <td>19</td>
      <td>28</td>
      <td>p</td>
      <td>midsize</td>
      <td>1</td>
    </tr>
    <tr>
      <th>230</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>p</td>
      <td>midsize</td>
      <td>1</td>
    </tr>
    <tr>
      <th>231</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>16</td>
      <td>26</td>
      <td>p</td>
      <td>midsize</td>
      <td>0</td>
    </tr>
    <tr>
      <th>232</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>18</td>
      <td>26</td>
      <td>p</td>
      <td>midsize</td>
      <td>1</td>
    </tr>
    <tr>
      <th>233</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>3.6</td>
      <td>2008</td>
      <td>6</td>
      <td>auto(s6)</td>
      <td>f</td>
      <td>17</td>
      <td>26</td>
      <td>p</td>
      <td>midsize</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>234 rows Ã— 12 columns</p>
</div>




```python
# ìˆ˜ì¹˜ í•˜ë‚˜ì”© ë³´ê¸°ë³´ë‹¤ ë²”ìœ„ë¥¼ ì§€ì–´ì„œ í™•ì¸í•˜ëŠ” ê²½ìš°ê°€ ìˆìŒ
# 1~10 ìœ ì•„
# 11~10 ì²­ì†Œë…„

# * ì¹´í…Œê³ ë¦¬ í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì •ë¦¬í•˜ëŠ” í•¨ìˆ˜ : pd.cut()

ages =  [0,2,15,21,23,37,31,61,20,41,32,100]
bins = [-1,15,25,35,60,100] #êµ¬ê°„ ì„¤ì • : (-1 ,15],(15,25],...
labels = ['ë¯¸ì„±ë…„ì','ì²­ë…„','ì¤‘ë…„','ì¥ë…„','ë…¸ë…„'] #ë²”ìœ„ì— ëŒ€í•œ ì´ë¦„ bins -1
cats = pd.DataFrame(ages)
cats

cats['category'] = pd.cut(ages,bins = bins, labels = labels)
#ê°ê° ë²¨ë¥˜ê°’ ë³„ë¡œ ê°œìˆ˜ë¥¼ ì„¸ì–´ì£¼ëŠ” í•¨ìˆ˜ : value_counts()
cats['category'].value_counts()
```




    category
    ë¯¸ì„±ë…„ì    3
    ì²­ë…„      3
    ì¤‘ë…„      2
    ì¥ë…„      2
    ë…¸ë…„      2
    Name: count, dtype: int64




```python
#groupby(): ë°ì´í„°ë¥¼ ê·¸ë£¹í™” ì‹œì¼œ ì§‘ê³„í•¨ìˆ˜ (count,sum,mean,median)ì™€ ì—°ê²°í•˜ëŠ” ê¸°ëŠ¥(í•¨ìˆ˜)
# ë‚¨ì•„ìˆëŠ” 1ê°œ ì»¬ëŸ¼ì— ëŒ€í•´ì„œ ì§‘ê³„í•¨ìˆ˜ ì—°ê²°
cats[['category',0]].groupby(by = 'category').count()
```

    C:\Users\USER\AppData\Local\Temp\ipykernel_11504\3999444640.py:3: FutureWarning: The default of observed=False is deprecated and will be changed to True in a future version of pandas. Pass observed=False to retain current behavior or observed=True to adopt the future default and silence this warning.
      cats[['category',0]].groupby(by = 'category').count()





<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>ë¯¸ì„±ë…„ì</th>
      <td>3</td>
    </tr>
    <tr>
      <th>ì²­ë…„</th>
      <td>3</td>
    </tr>
    <tr>
      <th>ì¤‘ë…„</th>
      <td>2</td>
    </tr>
    <tr>
      <th>ì¥ë…„</th>
      <td>2</td>
    </tr>
    <tr>
      <th>ë…¸ë…„</th>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>




```python
cats.groupby('category').agg(cats_cnt = (0,'count'))
```

    C:\Users\USER\AppData\Local\Temp\ipykernel_11504\2724596029.py:1: FutureWarning: The default of observed=False is deprecated and will be changed to True in a future version of pandas. Pass observed=False to retain current behavior or observed=True to adopt the future default and silence this warning.
      cats.groupby('category').agg(cats_cnt = (0,'count'))





<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cats_cnt</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>ë¯¸ì„±ë…„ì</th>
      <td>3</td>
    </tr>
    <tr>
      <th>ì²­ë…„</th>
      <td>3</td>
    </tr>
    <tr>
      <th>ì¤‘ë…„</th>
      <td>2</td>
    </tr>
    <tr>
      <th>ì¥ë…„</th>
      <td>2</td>
    </tr>
    <tr>
      <th>ë…¸ë…„</th>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>



![image.png](https://github.com/designa11/designa11.github.io/blob/master/assets/images/pandas/04/3.png?raw=true)


```python
data
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>manufacturer</th>
      <th>model</th>
      <th>displ</th>
      <th>year</th>
      <th>cyl</th>
      <th>trans</th>
      <th>drv</th>
      <th>cty</th>
      <th>hwy</th>
      <th>fl</th>
      <th>category</th>
      <th>cty_prepro</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>18</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>f</td>
      <td>20</td>
      <td>31</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(av)</td>
      <td>f</td>
      <td>21</td>
      <td>30</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>16</td>
      <td>26</td>
      <td>p</td>
      <td>compact</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>229</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(s6)</td>
      <td>f</td>
      <td>19</td>
      <td>28</td>
      <td>p</td>
      <td>midsize</td>
      <td>1</td>
    </tr>
    <tr>
      <th>230</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>p</td>
      <td>midsize</td>
      <td>1</td>
    </tr>
    <tr>
      <th>231</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>16</td>
      <td>26</td>
      <td>p</td>
      <td>midsize</td>
      <td>0</td>
    </tr>
    <tr>
      <th>232</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>18</td>
      <td>26</td>
      <td>p</td>
      <td>midsize</td>
      <td>1</td>
    </tr>
    <tr>
      <th>233</th>
      <td>volkswagen</td>
      <td>passat</td>
      <td>3.6</td>
      <td>2008</td>
      <td>6</td>
      <td>auto(s6)</td>
      <td>f</td>
      <td>17</td>
      <td>26</td>
      <td>p</td>
      <td>midsize</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>234 rows Ã— 12 columns</p>
</div>




```python
#Q1.
grouped = data.groupby('category')
grouped

mean_category = grouped['cty'].mean()
mean_category
```




    category
    2seater       15.400000
    compact       20.127660
    midsize       18.756098
    minivan       15.818182
    pickup        13.000000
    subcompact    20.371429
    suv           13.500000
    Name: cty, dtype: float64




```python

```


```python
#Q1.
data.groupby('category')['cty'].mean() #1
data.groupby('category').agg(cty_mean=('cty','mean'))#2
data[['category','cty']].groupby('category').mean()#3
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cty</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2seater</th>
      <td>15.400000</td>
    </tr>
    <tr>
      <th>compact</th>
      <td>20.127660</td>
    </tr>
    <tr>
      <th>midsize</th>
      <td>18.756098</td>
    </tr>
    <tr>
      <th>minivan</th>
      <td>15.818182</td>
    </tr>
    <tr>
      <th>pickup</th>
      <td>13.000000</td>
    </tr>
    <tr>
      <th>subcompact</th>
      <td>20.371429</td>
    </tr>
    <tr>
      <th>suv</th>
      <td>13.500000</td>
    </tr>
  </tbody>
</table>
</div>




```python

```


```python
#Q2,
mean_category.sort_values(ascending = False).head(3).index
```




    Index(['subcompact', 'compact', 'midsize'], dtype='object', name='category')




```python
#Q3.
data['manufacturer'].value_counts() #í™•ì¸ìš©
#.agg(hwy_mean = ('hwy','mean'))/// agg= ì§‘ê³„í•˜ë‹¤. .agg('ê²°ê³¼ ì»¬ëŸ¼ëª…' = ('ì»¬ëŸ¼ëª…', 'ì§‘ê³„í•¨ìˆ˜'))
data.groupby(by = 'manufacturer').agg(hwy_mean = ('hwy','mean')).sort_values(by = 'hwy_mean' ,ascending= False).head(3)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>hwy_mean</th>
    </tr>
    <tr>
      <th>manufacturer</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>honda</th>
      <td>32.555556</td>
    </tr>
    <tr>
      <th>volkswagen</th>
      <td>29.222222</td>
    </tr>
    <tr>
      <th>hyundai</th>
      <td>26.857143</td>
    </tr>
  </tbody>
</table>
</div>




```python
#Q4. 
#1. ì°¨ì¢…ì ‘ê·¼
#2. íšŒì‚¬ë³„ ê·¸ë£¹í™”
#3. ì°¨ì˜ ê°œìˆ˜ë¥¼ ì…€ ìˆ˜ ìˆëŠ” ì§‘ê³„í•¨ìˆ˜ count
#4. ì •ë ¬í•¨ìˆ˜ ì—°ê²°
data[data['category'] == 'compact'].shape
data[data['category'] == 'compact'].groupby('manufacturer').value_counts()
data[data['category'] == 'compact'].groupby('manufacturer').agg(cpt_cnt = ('category','count')).sort_values('cpt_cnt',ascending = False)


```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cpt_cnt</th>
    </tr>
    <tr>
      <th>manufacturer</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>audi</th>
      <td>15</td>
    </tr>
    <tr>
      <th>volkswagen</th>
      <td>14</td>
    </tr>
    <tr>
      <th>toyota</th>
      <td>12</td>
    </tr>
    <tr>
      <th>subaru</th>
      <td>4</td>
    </tr>
    <tr>
      <th>nissan</th>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>




```python
data[data['category'] == 'compact']
data.query('category == "compact"')
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>manufacturer</th>
      <th>model</th>
      <th>displ</th>
      <th>year</th>
      <th>cyl</th>
      <th>trans</th>
      <th>drv</th>
      <th>cty</th>
      <th>hwy</th>
      <th>fl</th>
      <th>category</th>
      <th>cty_prepro</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>18</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>audi</td>
      <td>a4</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>f</td>
      <td>20</td>
      <td>31</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(av)</td>
      <td>f</td>
      <td>21</td>
      <td>30</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>auto(l5)</td>
      <td>f</td>
      <td>16</td>
      <td>26</td>
      <td>p</td>
      <td>compact</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>audi</td>
      <td>a4</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>18</td>
      <td>26</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6</th>
      <td>audi</td>
      <td>a4</td>
      <td>3.1</td>
      <td>2008</td>
      <td>6</td>
      <td>auto(av)</td>
      <td>f</td>
      <td>18</td>
      <td>27</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>7</th>
      <td>audi</td>
      <td>a4 quattro</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>4</td>
      <td>18</td>
      <td>26</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>8</th>
      <td>audi</td>
      <td>a4 quattro</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>auto(l5)</td>
      <td>4</td>
      <td>16</td>
      <td>25</td>
      <td>p</td>
      <td>compact</td>
      <td>0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>audi</td>
      <td>a4 quattro</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>4</td>
      <td>20</td>
      <td>28</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>10</th>
      <td>audi</td>
      <td>a4 quattro</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(s6)</td>
      <td>4</td>
      <td>19</td>
      <td>27</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>11</th>
      <td>audi</td>
      <td>a4 quattro</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>auto(l5)</td>
      <td>4</td>
      <td>15</td>
      <td>25</td>
      <td>p</td>
      <td>compact</td>
      <td>0</td>
    </tr>
    <tr>
      <th>12</th>
      <td>audi</td>
      <td>a4 quattro</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>manual(m5)</td>
      <td>4</td>
      <td>17</td>
      <td>25</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>13</th>
      <td>audi</td>
      <td>a4 quattro</td>
      <td>3.1</td>
      <td>2008</td>
      <td>6</td>
      <td>auto(s6)</td>
      <td>4</td>
      <td>17</td>
      <td>25</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>14</th>
      <td>audi</td>
      <td>a4 quattro</td>
      <td>3.1</td>
      <td>2008</td>
      <td>6</td>
      <td>manual(m6)</td>
      <td>4</td>
      <td>15</td>
      <td>25</td>
      <td>p</td>
      <td>compact</td>
      <td>0</td>
    </tr>
    <tr>
      <th>141</th>
      <td>nissan</td>
      <td>altima</td>
      <td>2.4</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>142</th>
      <td>nissan</td>
      <td>altima</td>
      <td>2.4</td>
      <td>1999</td>
      <td>4</td>
      <td>auto(l4)</td>
      <td>f</td>
      <td>19</td>
      <td>27</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>169</th>
      <td>subaru</td>
      <td>impreza awd</td>
      <td>2.5</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(s4)</td>
      <td>4</td>
      <td>20</td>
      <td>25</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>170</th>
      <td>subaru</td>
      <td>impreza awd</td>
      <td>2.5</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(s4)</td>
      <td>4</td>
      <td>20</td>
      <td>27</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>171</th>
      <td>subaru</td>
      <td>impreza awd</td>
      <td>2.5</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>4</td>
      <td>19</td>
      <td>25</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>172</th>
      <td>subaru</td>
      <td>impreza awd</td>
      <td>2.5</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>4</td>
      <td>20</td>
      <td>27</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>186</th>
      <td>toyota</td>
      <td>camry solara</td>
      <td>2.2</td>
      <td>1999</td>
      <td>4</td>
      <td>auto(l4)</td>
      <td>f</td>
      <td>21</td>
      <td>27</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>187</th>
      <td>toyota</td>
      <td>camry solara</td>
      <td>2.2</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>188</th>
      <td>toyota</td>
      <td>camry solara</td>
      <td>2.4</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>21</td>
      <td>31</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>189</th>
      <td>toyota</td>
      <td>camry solara</td>
      <td>2.4</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(s5)</td>
      <td>f</td>
      <td>22</td>
      <td>31</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>190</th>
      <td>toyota</td>
      <td>camry solara</td>
      <td>3.0</td>
      <td>1999</td>
      <td>6</td>
      <td>auto(l4)</td>
      <td>f</td>
      <td>18</td>
      <td>26</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>191</th>
      <td>toyota</td>
      <td>camry solara</td>
      <td>3.0</td>
      <td>1999</td>
      <td>6</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>18</td>
      <td>26</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>192</th>
      <td>toyota</td>
      <td>camry solara</td>
      <td>3.3</td>
      <td>2008</td>
      <td>6</td>
      <td>auto(s5)</td>
      <td>f</td>
      <td>18</td>
      <td>27</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>193</th>
      <td>toyota</td>
      <td>corolla</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>auto(l3)</td>
      <td>f</td>
      <td>24</td>
      <td>30</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>194</th>
      <td>toyota</td>
      <td>corolla</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>auto(l4)</td>
      <td>f</td>
      <td>24</td>
      <td>33</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>195</th>
      <td>toyota</td>
      <td>corolla</td>
      <td>1.8</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>26</td>
      <td>35</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>196</th>
      <td>toyota</td>
      <td>corolla</td>
      <td>1.8</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>28</td>
      <td>37</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>197</th>
      <td>toyota</td>
      <td>corolla</td>
      <td>1.8</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(l4)</td>
      <td>f</td>
      <td>26</td>
      <td>35</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>207</th>
      <td>volkswagen</td>
      <td>gti</td>
      <td>2.0</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>208</th>
      <td>volkswagen</td>
      <td>gti</td>
      <td>2.0</td>
      <td>1999</td>
      <td>4</td>
      <td>auto(l4)</td>
      <td>f</td>
      <td>19</td>
      <td>26</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>209</th>
      <td>volkswagen</td>
      <td>gti</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>210</th>
      <td>volkswagen</td>
      <td>gti</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(s6)</td>
      <td>f</td>
      <td>22</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>211</th>
      <td>volkswagen</td>
      <td>gti</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>17</td>
      <td>24</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>212</th>
      <td>volkswagen</td>
      <td>jetta</td>
      <td>1.9</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>33</td>
      <td>44</td>
      <td>d</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>213</th>
      <td>volkswagen</td>
      <td>jetta</td>
      <td>2.0</td>
      <td>1999</td>
      <td>4</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>214</th>
      <td>volkswagen</td>
      <td>jetta</td>
      <td>2.0</td>
      <td>1999</td>
      <td>4</td>
      <td>auto(l4)</td>
      <td>f</td>
      <td>19</td>
      <td>26</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>215</th>
      <td>volkswagen</td>
      <td>jetta</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>auto(s6)</td>
      <td>f</td>
      <td>22</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>216</th>
      <td>volkswagen</td>
      <td>jetta</td>
      <td>2.0</td>
      <td>2008</td>
      <td>4</td>
      <td>manual(m6)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>p</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>217</th>
      <td>volkswagen</td>
      <td>jetta</td>
      <td>2.5</td>
      <td>2008</td>
      <td>5</td>
      <td>auto(s6)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>218</th>
      <td>volkswagen</td>
      <td>jetta</td>
      <td>2.5</td>
      <td>2008</td>
      <td>5</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>21</td>
      <td>29</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
    <tr>
      <th>219</th>
      <td>volkswagen</td>
      <td>jetta</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>auto(l4)</td>
      <td>f</td>
      <td>16</td>
      <td>23</td>
      <td>r</td>
      <td>compact</td>
      <td>0</td>
    </tr>
    <tr>
      <th>220</th>
      <td>volkswagen</td>
      <td>jetta</td>
      <td>2.8</td>
      <td>1999</td>
      <td>6</td>
      <td>manual(m5)</td>
      <td>f</td>
      <td>17</td>
      <td>24</td>
      <td>r</td>
      <td>compact</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>




```python
# ê²°ì¸¡ì¹˜ í™•ì¸
# data.info()
#ë„ê°’ì„ í™•ì¸í•˜ëŠ” í•¨ìˆ˜
data.isnull().sum(axis = 0)
data.isna().sum(axis = 0)

```




    manufacturer    0
    model           0
    displ           0
    year            0
    cyl             0
    trans           0
    drv             0
    cty             0
    hwy             0
    fl              0
    category        0
    cty_prepro      0
    dtype: int64




```python
#ì‚­ì œí•˜ëŠ”í•¨ìˆ˜
#df.drop('ì»¬ëŸ¼ëª…',axis = 1)
data.drop(['cty_prepro','cty'], axis = 1)
#ì›ë³¸ ë°ì´í„° ë³€ìˆ˜ ê³µê°„ì´ ì•„ë‹Œ data2ì— ëŒ€ì…í•˜ê³  ì‹¶ì„ ë•Œ = ëŒ€ì…ì—°ì‚°ì
data2 = data.drop(['cty_prepro','cty'], axis = 1)
#drop(inplace = True ) # ì›ë³¸ ë°”ê¿”ì¤Œ
```
