---
layout: post
title: 멜론차트 기모띠
categories: crawling
tags: [crawling, python]
excerpt_image: https://github.com/designa11/designa11.github.io/blob/master/assets/images/webcrawling.png?raw=true
---

![banner](https://github.com/designa11/designa11.github.io/blob/master/assets/images/webcrawling.png?raw=true)

#### 1. 멜론 차트 페이지 요청 > 응답


```python
import requests as req
ans = req.get("https://www.melon.com/chart/index.htm", headers={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"})
ans
```




    <Response [200]>



#### 2. 곡명 100개 추출


```python
from bs4 import BeautifulSoup as bs
soup = bs(ans.text, "lxml") # parser 문서 변환 도구 lxml
song_title = soup.select("div.ellipsis.rank01>span>a")

titles = []
for i in song_title:
    titles.append(i.text)
titles
```




    ['Supernova',
     'How Sweet',
     '클락션 (Klaxon)',
     'Sticky',
     'Small girl (feat. 도경수(D.O.))',
     'Supernatural',
     '소나기',
     '고민중독',
     '한 페이지가 될 수 있게',
     'Bubble Gum',
     '나는 아픈 건 딱 질색이니까',
     'Armageddon',
     '해야 (HEYA)',
     'Magnetic',
     '첫 만남은 계획대로 되지 않아',
     'Welcome to the Show',
     'SPOT! (feat. JENNIE)',
     '예뻤어',
     '천상연',
     '사랑은 늘 도망가',
     'Hype Boy',
     'Boom Boom Bass',
     '에피소드',
     '온기',
     '미안해 미워해 사랑해',
     '우리들의 블루스',
     'Home',
     'Seven (feat. Latto) - Clean Ver.',
     'Love wins all',
     '모래 알갱이',
     '내가 S면 넌 나의 N이 되어줘',
     '슬픈 초대장',
     'I AM',
     '비의 랩소디',
     '다시 만날 수 있을까',
     '이제 나만 믿어요',
     'Do or Die',
     'Attention',
     '그대만 있다면 (여름날 우리 X 너드커넥션 (Nerd Connection))',
     'ETA',
     'Polaroid',
     '무지개',
     'London Boy',
     'Super Shy',
     'WAY 4 LUV',
     '오래된 노래',
     'Ditto',
     '밤양갱',
     '헤어지자 말해요',
     'Drama',
     '인생찬가',
     'To. X',
     'Spicy',
     'SHEESH',
     'Dynamite',
     '사랑인가 봐',
     '너의 모든 순간',
     '우리 영화',
     '연애편지',
     '퀸카 (Queencard)',
     '파이팅 해야지 (Feat. 이영지)',
     'Girls Never Die',
     '청혼하지 않을 이유를 못 찾았어',
     'LOVE DIVE',
     'Love 119',
     'Get A Guitar',
     'Accendio',
     '사건의 지평선',
     '인사',
     'OMG',
     '주저하는 연인들을 위해',
     'Cosmic',
     'From',
     'Love Lee',
     '그랬나봐',
     '보금자리',
     'Perfect Night',
     '삐그덕 (Walk)',
     '봄날',
     'MANIAC',
     '사막에서 꽃을 피우듯',
     'Watch Me Woo!',
     "I Don't Think That I Like Her",
     '모든 날, 모든 순간 (Every day, Every Moment)',
     '어떻게 이별까지 사랑하겠어, 널 사랑하는 거지',
     'MAESTRO',
     '꿈',
     '네가 내 마음에 자리 잡았다 (Into You)',
     'Midas Touch',
     '다정히 내 이름을 부르면',
     '취중고백',
     '버추얼 아이돌',
     'Lucky Girl Syndrome',
     'Impossible',
     '봄눈',
     'Right Now',
     'EASY',
     '내가 그댈',
     'Siren',
     'Who']



#### 3. 가수명 100개 추출
* 노래 1개 - 가수 여러명일 때 구조 파악하기


```python
import pandas as pd
import numpy as np
np.set_printoptions(threshold=np.inf, linewidth=np.inf)
```


```python
soup_singer = soup.select("div.ellipsis.rank02>span")
# soup_singer  = soup.select("span.checkEllipsis>a")
singer_list = []

for j in soup_singer:
    singer_list.append(j.text)
singer_list

```




    ['aespa',
     'NewJeans',
     '(여자)아이들',
     'KISS OF LIFE',
     '이영지',
     'NewJeans',
     '이클립스 (ECLIPSE)',
     'QWER',
     'DAY6 (데이식스)',
     'NewJeans',
     '(여자)아이들',
     'aespa',
     'IVE (아이브)',
     '아일릿(ILLIT)',
     'TWS (투어스)',
     'DAY6 (데이식스)',
     '지코 (ZICO)',
     'DAY6 (데이식스)',
     '이창섭',
     '임영웅',
     'NewJeans',
     'RIIZE',
     '이무진',
     '임영웅',
     'Crush',
     '임영웅',
     '임영웅',
     '정국',
     '아이유',
     '임영웅',
     'TWS (투어스)',
     '순순희(지환)',
     'IVE (아이브)',
     '임재현',
     '임영웅',
     '임영웅',
     '임영웅',
     'NewJeans',
     '너드커넥션 (Nerd Connection)',
     'NewJeans',
     '임영웅',
     '임영웅',
     '임영웅',
     'NewJeans',
     'PLAVE',
     '허각, 임한별, 이무진, 이진성 (먼데이 키즈), 김희재, #안녕',
     'NewJeans',
     '비비 (BIBI)',
     '박재정',
     'aespa',
     '임영웅',
     '태연 (TAEYEON)',
     'aespa',
     'BABYMONSTER',
     '방탄소년단',
     '멜로망스',
     '성시경',
     'PLAVE',
     '임영웅',
     '(여자)아이들',
     '부석순 (SEVENTEEN)',
     'tripleS (트리플에스)',
     '이무진',
     'IVE (아이브)',
     'RIIZE',
     'RIIZE',
     'IVE (아이브)',
     '윤하 (YOUNHA)',
     '범진',
     'NewJeans',
     '잔나비',
     'Red Velvet (레드벨벳)',
     'PLAVE',
     'AKMU (악뮤)',
     '유회승 (엔플라잉)',
     '임영웅',
     'LE SSERAFIM (르세라핌)',
     'NCT 127',
     '방탄소년단',
     'VIVIZ (비비지)',
     '우디 (Woody)',
     'PLAVE',
     'Charlie Puth',
     '폴킴',
     'AKMU (악뮤)',
     '세븐틴 (SEVENTEEN)',
     '태연 (TAEYEON)',
     '엔플라잉 (N.Flying)',
     'KISS OF LIFE',
     '경서예지, 전건호',
     '김민석',
     'PLAVE',
     '아일릿(ILLIT)',
     'RIIZE',
     '10CM',
     'NewJeans',
     'LE SSERAFIM (르세라핌)',
     '하동균',
     'RIIZE',
     '지민']



- 수집된 데이터 text 형식으로 리스트에 저장


```python
songs_list = []
singer_list2 =[]
rank_list=[]

for i in range(len(titles)):
    songs_list.append(titles[i].strip())
    singer_list2.append(singer_list[i].strip())
    rank_list.append(i+1)
print(len(songs_list),len(singer_list2),len(rank_list))
print(songs_list,singer_list2,rank_list)
```

    100 100 100
    ['Supernova', 'How Sweet', '클락션 (Klaxon)', 'Sticky', 'Small girl (feat. 도경수(D.O.))', 'Supernatural', '소나기', '고민중독', '한 페이지가 될 수 있게', 'Bubble Gum', '나는 아픈 건 딱 질색이니까', 'Armageddon', '해야 (HEYA)', 'Magnetic', '첫 만남은 계획대로 되지 않아', 'Welcome to the Show', 'SPOT! (feat. JENNIE)', '예뻤어', '천상연', '사랑은 늘 도망가', 'Hype Boy', 'Boom Boom Bass', '에피소드', '온기', '미안해 미워해 사랑해', '우리들의 블루스', 'Home', 'Seven (feat. Latto) - Clean Ver.', 'Love wins all', '모래 알갱이', '내가 S면 넌 나의 N이 되어줘', '슬픈 초대장', 'I AM', '비의 랩소디', '다시 만날 수 있을까', '이제 나만 믿어요', 'Do or Die', 'Attention', '그대만 있다면 (여름날 우리 X 너드커넥션 (Nerd Connection))', 'ETA', 'Polaroid', '무지개', 'London Boy', 'Super Shy', 'WAY 4 LUV', '오래된 노래', 'Ditto', '밤양갱', '헤어지자 말해요', 'Drama', '인생찬가', 'To. X', 'Spicy', 'SHEESH', 'Dynamite', '사랑인가 봐', '너의 모든 순간', '우리 영화', '연애편지', '퀸카 (Queencard)', '파이팅 해야지 (Feat. 이영지)', 'Girls Never Die', '청혼하지 않을 이유를 못 찾았어', 'LOVE DIVE', 'Love 119', 'Get A Guitar', 'Accendio', '사건의 지평선', '인사', 'OMG', '주저하는 연인들을 위해', 'Cosmic', 'From', 'Love Lee', '그랬나봐', '보금자리', 'Perfect Night', '삐그덕 (Walk)', '봄날', 'MANIAC', '사막에서 꽃을 피우듯', 'Watch Me Woo!', "I Don't Think That I Like Her", '모든 날, 모든 순간 (Every day, Every Moment)', '어떻게 이별까지 사랑하겠어, 널 사랑하는 거지', 'MAESTRO', '꿈', '네가 내 마음에 자리 잡았다 (Into You)', 'Midas Touch', '다정히 내 이름을 부르면', '취중고백', '버추얼 아이돌', 'Lucky Girl Syndrome', 'Impossible', '봄눈', 'Right Now', 'EASY', '내가 그댈', 'Siren', 'Who'] ['aespa', 'NewJeans', '(여자)아이들', 'KISS OF LIFE', '이영지', 'NewJeans', '이클립스 (ECLIPSE)', 'QWER', 'DAY6 (데이식스)', 'NewJeans', '(여자)아이들', 'aespa', 'IVE (아이브)', '아일릿(ILLIT)', 'TWS (투어스)', 'DAY6 (데이식스)', '지코 (ZICO)', 'DAY6 (데이식스)', '이창섭', '임영웅', 'NewJeans', 'RIIZE', '이무진', '임영웅', 'Crush', '임영웅', '임영웅', '정국', '아이유', '임영웅', 'TWS (투어스)', '순순희(지환)', 'IVE (아이브)', '임재현', '임영웅', '임영웅', '임영웅', 'NewJeans', '너드커넥션 (Nerd Connection)', 'NewJeans', '임영웅', '임영웅', '임영웅', 'NewJeans', 'PLAVE', '허각, 임한별, 이무진, 이진성 (먼데이 키즈), 김희재, #안녕', 'NewJeans', '비비 (BIBI)', '박재정', 'aespa', '임영웅', '태연 (TAEYEON)', 'aespa', 'BABYMONSTER', '방탄소년단', '멜로망스', '성시경', 'PLAVE', '임영웅', '(여자)아이들', '부석순 (SEVENTEEN)', 'tripleS (트리플에스)', '이무진', 'IVE (아이브)', 'RIIZE', 'RIIZE', 'IVE (아이브)', '윤하 (YOUNHA)', '범진', 'NewJeans', '잔나비', 'Red Velvet (레드벨벳)', 'PLAVE', 'AKMU (악뮤)', '유회승 (엔플라잉)', '임영웅', 'LE SSERAFIM (르세라핌)', 'NCT 127', '방탄소년단', 'VIVIZ (비비지)', '우디 (Woody)', 'PLAVE', 'Charlie Puth', '폴킴', 'AKMU (악뮤)', '세븐틴 (SEVENTEEN)', '태연 (TAEYEON)', '엔플라잉 (N.Flying)', 'KISS OF LIFE', '경서예지, 전건호', '김민석', 'PLAVE', '아일릿(ILLIT)', 'RIIZE', '10CM', 'NewJeans', 'LE SSERAFIM (르세라핌)', '하동균', 'RIIZE', '지민'] [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100]



```python

```

- melon_df 변수에 데이터 프레임 형태로 표현하기


```python
melon_df = pd.DataFrame({'곡명':songs_list, '가수명': singer_list2, '차트순위':rank_list})
```

- csv 저장


```python
# df.to_csv('경로 및 파일명', encoding'', index = False)
melon_df.to_csv('240806_멜론차트TOP100.csv', encoding='euc-kr', index=False)
```


```python

```


```python

```


```python

```


```python

```


```python

```


```python

```


```python

```


```python

```


```python

```


```python

```


```python

```


```python

```
